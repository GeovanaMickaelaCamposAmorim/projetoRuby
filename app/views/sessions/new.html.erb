<div class="min-h-screen flex">
  <!-- Área da Logo - Esquerda -->
  <div class="hidden lg:flex lg:w-7/12 xl:w-8/12 bg-tags-cinza flex-col items-center justify-center p-8 relative">
    <div class="text-center max-w-md">
      <!-- Logo -->
      <div class="">
        <%= image_tag "tags-logo.png", alt: "Tags logo", class: "w-full max-w-[600px] h-auto mx-auto" %>
      </div>
    </div>
  </div>

  <!-- Área de Login -->
  <div class="w-full lg:w-5/12 xl:w-4/12 min-h-screen bg-tags-cinza flex items-center justify-center p-6 lg:p-8">
    <div class="w-full max-w-sm relative">
      
      <!-- login (ALTURA AUMENTADA) -->
      <div class="bg-tags-branco rounded-xl p-8 relative z-10 shadow-lg min-h-[460px] flex flex-col justify-center">
        
        <!-- Flash Messages -->
        <% if alert = flash[:alert] %>
          <div class="mb-6 p-3 bg-red-50 border border-red-200 rounded-lg">
            <p class="text-red-700 font-medium text-xs" id="alert"><%= alert %></p>
          </div>
        <% end %>

        <% if notice = flash[:notice] %>
          <div class="mb-6 p-3 bg-green-50 border border-green-200 rounded-lg">
            <p class="text-green-700 font-medium text-xs" id="notice"><%= notice %></p>
          </div>
        <% end %>

        <!-- Header -->
        <div class="mb-8 text-center">
          <h2 class="text-2xl font-semibold text-gray-900 mb-2">Bem-vindo de volta</h2>
          <p class="text-gray-600 text-sm">Faça login para continuar</p>
        </div>

        <!-- Form -->
        <%= form_with url: session_path, class: "space-y-5" do |form| %>
          <div>
            <%= form.label :usu_email, "E-mail", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.email_field :usu_email, 
              required: true, 
              autofocus: true, 
              autocomplete: "username", 
              placeholder: "Insira seu e-mail", 
              value: params[:usu_email], 
              class: "w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tags-rosa focus:border-tags-rosa transition-all duration-200 placeholder-gray-400 outline-none" %>
          </div>

          <div>
            <%= form.label :password, "Senha", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <div class="relative">
              <%= form.password_field :password, 
                required: true, 
                autocomplete: "current-password", 
                placeholder: "Insira sua senha", 
                maxlength: 72, 
                id: "password-field",
                class: "w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-tags-rosa focus:border-tags-rosa transition-all duration-200 placeholder-gray-400 pr-10 outline-none" %>
              
              <!-- Olhinho para mostrar senha -->
              <button type="button" 
                onclick="togglePassword()" 
                class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 transition-colors">
                <span class="material-symbols-outlined text-base" id="password-icon">
                  visibility_off
                </span>
              </button>
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <%= form.check_box :remember_me, 
                    style: "accent-color: #ed217c;",
                    class: "w-4 h-4 border-gray-300 rounded focus:ring-2 focus:ring-tags-rosa" %>
              <%= form.label :remember_me, "Lembrar-me", class: "ml-2 block text-sm text-gray-700" %>
            </div>
          </div>

          <div class="pt-2">
            <%= form.submit "Entrar", 
              class: "w-full bg-tags-rosa hover:bg-pink-600 text-white font-medium py-2.5 px-4 text-sm rounded-lg transition-all duration-200 cursor-pointer focus:ring-2 focus:ring-pink-300 focus:ring-offset-1" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<style>
  .min-h-screen.flex {
    border-collapse: collapse;
  }
  
  .bg-tags-cinza {
    background-color: #4E4E4E !important;
  }
  
  .min-h-screen.flex {
    background: #4E4E4E;
  }

  input:focus {
    outline: none !important;
    box-shadow: none !important;
  }

</style>

<script>
function togglePassword() {
  const passwordField = document.getElementById('password-field');
  const passwordIcon = document.getElementById('password-icon');
  
  if (passwordField.type === 'password') {
    passwordField.type = 'text';
    passwordIcon.textContent = 'visibility';
  } else {
    passwordField.type = 'password';
    passwordIcon.textContent = 'visibility_off';
  }
}
</script>