<% content_for :page_title, "Dashboard" %>
<% content_for :page_description, "VisÃ£o geral e anÃ¡lises do sistema" %>
<% content_for :page_icon do %>
  <span class="material-symbols-outlined text-xs">analytics</span>
<% end %>

<div class="p-6">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
    <div class="bg-white p-4 rounded-lg shadow-md border border-gray-100">
      <p class="text-sm font-medium text-gray-500">Vendas Hoje</p>
      <p class="text-2xl font-bold text-green-600 mt-1">
        <%= number_to_currency(@vendas_hoje, unit: "R$") %>
      </p>
    </div>
    </div>
  
  ## ðŸ“Š AnÃ¡lise Financeira
  <hr class="my-4">

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    
    <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-100">
      <h3 class="text-lg font-semibold mb-4 text-gray-800">Comparativo de Vendas vs. Gastos (Ãšltimos 6 Meses)</h3>
      <%= column_chart @dados_vendas_gastos, 
                        height: "300px", 
                        colors: ["#10B981", "#EF4444"], # Cores Tailwind: green-500, red-500
                        xtitle: "MÃªs", 
                        ytitle: "Valor (R$)" %>
    </div>
    
    <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-100">
      <h3 class="text-lg font-semibold mb-4 text-gray-800">Lucro Mensal (Vendas - Gastos)</h3>
      <%= line_chart @lucro_por_mes, 
                     height: "300px", 
                     colors: ["#3B82F6"], # Cor Tailwind: blue-500
                     xtitle: "MÃªs", 
                     ytitle: "Lucro (R$)" %>
    </div>
  </div>
  
  ## ðŸ›’ AnÃ¡lise de Vendas e Estoque
  <hr class="my-4">
  
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

    <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-100">
      <h3 class="text-lg font-semibold mb-4 text-gray-800">DistribuiÃ§Ã£o de Vendas por Forma de Pagamento</h3>
      <%= pie_chart @vendas_por_forma, 
                    height: "300px" %>
    </div>
    
    <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-100">
      <h3 class="text-lg font-semibold mb-4 text-gray-800">Status do Estoque de Produtos Ativos</h3>
      <%= pie_chart @dados_estoque, 
                    donut: true, # Transforma em grÃ¡fico de anel
                    height: "300px",
                    colors: ["#10B981", "#F59E0B", "#EF4444"] # DisponÃ­vel(verde), Baixo(amarelo), Esgotado(vermelho)
                    %>
      
      <p class="text-center text-sm text-gray-600 mt-2">Total de **<%= @produtos_ativos %>** produtos em estoque.</p>
    </div>
  </div>
</div>